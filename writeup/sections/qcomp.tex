\section{Kvanteberegninger}

% \subsection{Intro til kvantemekanikk}

    % \subsubsection*{Notasjon}

    %     La $\mathcal{H}$ være et Hilbertrom, vi definerer $\partial D(\mathcal{H})=\{v:\mathcal{H}\mid ||v||=1\}$ til å være randen av enhetskulen i $\mathcal{H}$ og $U(\mathcal{H})$ til å være mengden av unitære operatorer på $\mathcal{H}$. I fysikk bruker man en ket $|\_\rangle$ for å utheve at et element i keten er en vektor, på samme måte som pil notasjon for vektorer. En bra $\langle\_ |$ betegner det elementet i dualrommet som gjør at $\langle\psi |\psi\rangle = ||\psi||^2$. Dette er veldefinert fra Riesz-Frechet representasjons teorem.

    \subsection{Postulatene i kvantemekanikk}

        Kvantemekanikk er en beskrivelse av fysiske systemer på små størrelser. Reglene for hvordan disse systemene oppfører seg er formulert utifra 6 postulater. \cite{Jaffe_2007} og \cite{portugal_2019} definerer postulatene som følger
        \begin{enumerate}
            \item På hvert øyeblikk er tilstanden til det fysiske systemet beskrevet av en ket $|\psi\rangle$ i rommet av tilstander.
            \item Enhver observabel fysisk egenskap av systemet er beskrevet av en operator som virker på ketten som beskriver systemet.
            \item De eneste mulige resultatene av en måling av en observabel $\mathcal{A}$ er egenverdiene til den assosierte operatoren $A$.
            \item Når en måling er gjort på en tilstand $|\psi\rangle$ er sannsynligheten for å få en egenverdi $a_n$ gitt ved kvadratet av indreproduktet til $|\psi\rangle$ sammen med egenprojeksjonen $P_{a_n}$.
            \begin{align*}
                p_{a_n} = \langle \psi|P_{a_n}|\psi\rangle
            \end{align*}
            \item Umiddelbart etter en måling av en observabel $\mathcal{A}$ har gitt egenverdien $a_n$, er systemet i tilstanden til den normaliserte egenprojeksjonen $P_{a_n}|\psi\rangle$.
            \item Tidsutviklingen til et system bevarer normen til en ket $|\psi\rangle$.
        \end{enumerate}

        For å forklare postulatene sammen med et eksempel antar vi at det finnes en partikkel som har to observable tilstander, vi kaller de spin opp og spin ned, som er beskrevet av vektorer i et rom av tilstander. Her tolkes rommet av tilstander som et (kompleks separabelt) Hilbertrom. En tilstand eller ket $|\psi\rangle$ er dermed en vektor i $\mathcal{H}$. Siden $\mathcal{H}$ er et Hilbertrom har den også en basis $\{|\beta_\lambda\rangle\mid\lambda : \Lambda\}$, hvor $\Lambda$ er en indeksmengde. Ettersom vi har to observable tilstander holder det å anta at $\mathcal{H}=\mathbb{C}^2$ og at $|\beta_i\rangle = e_i$ for $i=1,2$. Man kan skrive $|\psi\rangle$ som en lineærkombinasjon av basisen, dette er også kalt for en superposisjon av tilstandene $\{|\beta_\lambda\rangle\mid\lambda : \Lambda\}$ (eller $\{e_1, e_2\}$ for spin eksemplet).
        \begin{align*}
            |\psi\rangle & = \Sigma\psi_i|\beta_i\rangle \\
            (|\psi\rangle & = \psi_1e_1 + \psi_2e_2)
        \end{align*}

        Gitt at vi har en observable $\mathcal{A}$, altså en fysisk egenskap ved systemet som kan måles, så vet vi at dette er gitt ved en lineærtransformasjon $A$ som virker på Hilbertrommet $\mathcal{H}$. De fysiske målingene til systemet skal være gitt ved egenverdiene av denne lineærtransformasjonen, noe som krever den til å være en endomorfi, aka. $A:\mathcal{H}\rightarrow\mathcal{H}$. I spin eksemplet kan man måle spin opp og spin ned med en observable hvor f.eks. spin opp har egenverdien 1 og spin ned har egenverdien -1. En vanlig antagelse er at alle de observable egenskapene skal være reelle verdier, derfor velger man i tillegg å anta at $A$ må være en Hermitisk operator (selvadjungert).

        Når man gjør en måling av en observabel er det tilfeldig hva man måler. Sannsynlighetene for å måle de forskjellige egenverdiene er gitt ved formelen over. Etter måling vil systemet kollapse ned i egenrommet til vektoren $\frac{1}{\sqrt{p_{a_n}}}P_{a_n}|\psi\rangle$. Hvis den algebraiske multiplisiteten til egenverdien $a_n$ er $1$ så tilsvarer dette vektoren $\frac{|a_n\rangle}{|||a_n\rangle ||}$. Målinger som er beskrevet av projeksjons operatorer kalles for projektive målinger. Det finnes også delvise målinger, hvor man ikke kollapser hele systemet etter en måling.
        
        En konsekvens av målinger er at observabelen som har tilstanden $|\psi\rangle$ som en egenvektor med egenverdi lik $1$ vil ikke endre tilstanden til systemet etter måling. Hvis man derimot måler denne observabelen, vil man normalisere tilstanden. I spin eksemplet vil dette si at hvis man måler verdien 1, så vil tilstanden kollapse til den tilsvarende egenvektoren, normalisert. En konsekvens av dette er at en tilstand er bedre definert som ekvivalensklasser langs linjer i Hilbertrommet. En tilstand er dermed et element i randen av enhetskulen til Hilbertrommet.
        \begin{align*}
            |\psi\rangle : \partial D(\mathcal{H}) = \{v:\mathcal{H}\mid ||v||=1\}
        \end{align*}

        Det siste postulatet forteller oss hvordan et system utvikler seg. Formelen $|\psi (t)\rangle = U(t,t_0)|\psi (t_0)\rangle$ brukes ofte for å beskrive hvordan dette ser ut. Siden vi krever at $U(t,t_0)$ skal bevare normen til $|\psi (t_0)\rangle$, dvs. at det finnes en virkning $U(t,t_0):\partial D(\mathcal{H})\rightarrow\partial D(\mathcal{H})$, følger det at denne operatoren er unitær. Mengden $U(\mathcal{H})$ vil betegne de unitære operatorene som operer på det Hilbertrommet. For vårt formål kan man tenke på et kvantesystem som et element i $U(\mathcal{H})$-mengden $\partial D(\mathcal{H})$.

        Som beskrevet av \cite{portugal_2019} kan man slå sammen kvantesystemer med det algebraiske tensorproduktet. Gitt to foskjellige kvantesystemer beskrevet av to forskjellige Hilbertrom $\mathcal{H}_1$ og $\mathcal{H}_2$ så er rommet av sammensatte tilstander $\mathcal{H}_1\otimes\mathcal{H}_2$. Vi får da en klasse med observable og en klasse med operatorer som virker på systemene gjennom tensorproduktet. Man kan vise at tensorproduktet av to unitære og hermitiske matriser er igjen unitære og hermitiske, det er derfor veldefinert å betrakte tensoren for sammensatte systemer. Sammenfiltringsfenomenet foregår når man konstruerer slike sammensatte systemer. Hvis vi antar at vi har to partikler med spin egenskapen $\phi$ og $\psi$ og det sammensatte systemet $|\phi\psi\rangle = \sigma_0e_0\otimes e_0 + \sigma_1e_1\otimes e_1$, så vil en måling av den ene partikkelen ende opp med å måle den andre partikkelen. Dersom man måler egenverdien til $e_0$ for $\phi$ så vil systemet kollapse til $\frac{1}{\sigma_0}P_1\otimes I(|\phi\psi\rangle) = e_0\otimes e_0$. Dette medfører at alle målinger av $\psi$ vil gi egenverdien $1$.

\subsection{Qubits og kvantekretser}
    
        Klassiske bits har to tilstander: $0$ eller $1$. Kvantebits, eller qubits er et fysisk system som har en observabel som måler to diskrete tilstander. Disse tilstandene bruker vi for å representere $0$ og $1$. Ettersom at operatoren som måler $0$ og $1$ er hermitisk, så finnes det en ortonormal basis for Hilbertrommet som diagonaliserer denne operatoren. Elementene i denne basisen vil bli betegnet som $|0\rangle$ og $|1\rangle$. En qubit $q$ er dermed et element i $\partial D(\mathbb{C}^2)$ på formen $q = q_0|0\rangle + q_1|1\rangle$. 

        En streng av bits er sammensettingen av flere bits. På samme måte konstruerer vi en streng av qubits til å være sammensettingen av flere qubits. Denne sammensettingen er gitt av tensorproduktet mellom de algebraiske qubitsene. F.eks. er en 2-qubit streng er et element i $\partial D(\mathbb{C}^2\otimes\mathbb{C}^2)$ på formen under.
        \begin{align*}
            q = q_{00}|0\rangle\otimes |0\rangle + q_{01}|0\rangle\otimes |1\rangle + q_{10}|1\rangle\otimes|0\rangle + q_{11}|1\rangle\otimes |1\rangle
        \end{align*}
        For kortfatthetens skyld skriver vi $|ab\rangle = |a\rangle|b\rangle = |a\rangle\otimes |b\rangle$. Notasjonen $|\_\rangle$ vil få en ekstra presisjon i denne rapporten som ikke brukes andre steder. La $nBit$ være mengden av strenger med n-bits, vi definerer $|\_\rangle : \bigcup_{n=0}^{\infty}nBits \rightarrow \bigoplus_{n=1}^{\infty}{\mathbb{C}^2}^{\otimes n}$ til å være en funksjon fra alle strenger og inn i tensoralgebraen til $\mathbb{C}^2$. Den er definert på $|0\rangle$ og $|1\rangle$ som over, også utvides den lineært og fritt over tensoralgebraen. En av de viktigste egenskapene qubits har som bits ikke har er nemlig at to eller flere qubits kan bli sammenfiltret.

        EPR paret (Einstein, Rosen og Podolsky) er et gjenngående eksempel på sammenfiltring av qubits. Man kan se at et sammensatt system av qubits er sammenfiltret hvis det ikke kan skrives som en elementær tensor, $a\otimes b$. Et EPR par er et 2-qubit system på formen $\psi = \frac{1}{\sqrt{2}}|00\rangle + \frac{1}{\sqrt{2}}|11\rangle$. Man kan se at dette systemet er sammenfiltret, ettersom de to elementære tensorene ikke har noen felles faktorer. Hvis vi derimot måler den første qubiten i systemet vil vi ende opp med at det er en $(\frac{1}{\sqrt{2}})^2 = 50\%$ sjanse for å måle $0$ og $50\%$ sjanse for å måle $1$. Hvis vi derimot har målt $0$ på den første qubiten, så vil systemet kollapse til $\psi = |00\rangle$, og vi vet dermed at den andre qubiten må være i tilstand $|0\rangle$.

        På samme måte som at klassiske bits kan manipuleres med kretser, kan man manipulere qubits med kvantekretser. En kvantekrets er et flytdiagram med et register, en arbeidsplass, logiske kvanteporter og målinger. Registeret er inputtet av qubits, arbeidsplassen er tilleggs qubits som man kan bruke til å utføre/definere operasjoner. Se figur \ref{fig:EPR} for et eksempel av en kvantekrets. I motsetning til klassiske kretser kan ikke kvantekretser ødelegge qubits, og alle prosessene må være unitære og reversible. Alle logiske kvanteporter er derfor unitære transformasjoner. Målinger følger ikke disse reglene, og disse er gitt ved hermitiske operatorer. Bemerk at en måling gjør om en qubit om til en klassisk bit.

        \begin{figure}
            \caption{EPR-sammenfiltrings kvantekrets}
            \begin{center}
                \begin{quantikz}
                    \lstick{$\ket{0}$} & \gate{H} & \octrl{1} & \qw \\
                    \lstick{$\ket{0}$} & \qw & \targ{} & \qw
                \end{quantikz}
            \end{center}
            \begin{center}
                H boksen viser til at man bruker Hadamard operatoren,\\ mens sirkelen kontrollerer en X operator som er $\oplus$.
            \end{center}
            \label{fig:EPR}
        \end{figure}

        De elementære logiske kvanteportene er unære, binære og trinære unitære operatorer over $\mathbb{C}^2$. De unære operatorene er kjent som Pauli matrisene $I, X, Y, Z$, sammen med Hadamard operatoren $H$ og fase skift operatoren $R_\theta$. Man kan observere at $X$ operatoren flipper qubiten, Z operatoren snur fasen hvis argumentet var $|1\rangle$ og $Y$ operatoren er en kombinasjon av $X$ og $Z$ ganget med skalaren $i$. 
        \begin{center}
            \begin{math}
                I = \begin{pmatrix}
                    1 & 0 \\ 0 & 1
                \end{pmatrix},\ X = \begin{pmatrix}
                    0 & 1 \\ 1 & 0
                \end{pmatrix},\ Y = \begin{pmatrix}
                    0 & -i \\ i & 0
                \end{pmatrix},\ Z = \begin{pmatrix}
                    1 & 0 \\ 0 & -1
                \end{pmatrix}
            \end{math},\\
            \begin{math}
                H = \frac{1}{\sqrt{2}}\begin{pmatrix}
                    1 & 1 \\ 1 & 1
                \end{pmatrix} og\ 
                R_\theta = \begin{pmatrix}
                    1 & 0 \\ 0 & e^{i\theta}
                \end{pmatrix}
            \end{math}
        \end{center}
        Den elementære binære operatoren kalles controlled not og skrives CNOT. CNOT fliper qubiten til det andre argumentet hvis den første qubiten er $|1\rangle$. SWAP porten er en binær port som bytter om rekkefølgen på argumentene.
        \begin{center}
            \begin{math}
                CNOT = \begin{pmatrix}
                    1 & 0 & 0 & 0 \\
                    0 & 1 & 0 & 0 \\
                    0 & 0 & 0 & 1 \\
                    0 & 0 & 1 & 0
                \end{pmatrix},\ SWAP = \begin{pmatrix}
                    1 & 0 & 0 & 0 \\
                    0 & 0 & 1 & 0 \\
                    0 & 1 & 0 & 0 \\
                    0 & 0 & 0 & 1
                \end{pmatrix}
            \end{math}
        \end{center}
        Den trinære porten som er av stor interesse er Toffoli porten. Toffoli porten kalles også CCNOT, ettersom det er en dobbel kontrollert not. Hvis de to første argumentene har verdien $|1\rangle$ så flippes qubiten i det tredje argumentet.
        \begin{center}
            \begin{math}
                Toffoli = \begin{pmatrix}
                    1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
                    0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\
                    0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\
                    0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\
                    0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\
                    0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 \\
                    0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\
                    0 & 0 & 0 & 0 & 0 & 0 & 1 & 0
                \end{pmatrix}
            \end{math}
        \end{center}
        Disse portene er universelle i den forstand av at alle andre logiske kvanteporter kan uttrykkes som en komposisjon av disse portene. Vi har i tillegg at Hadamard porten og Toffoli porten kan konstruere alle porter med reelle innlegg, som beskrevet av \cite{dewolf2021quantum}.

        \begin{figure}
            \caption{Kontrollerte kvanteporter}
            \begin{center}
                \begin{subfigure}{0.22\textwidth}
                    \begin{center}
                        \begin{quantikz}
                            \lstick{$\ket{0}$} & \octrl{1} & \qw \\
                            \lstick{$\ket{0}$} & \targ{} & \qw
                        \end{quantikz}
                        \subcaption{CNOT}
                    \end{center}
                    \label{fig:CNOT}
                \end{subfigure}
                \begin{subfigure}{0.22\textwidth}
                    \begin{center}
                        \begin{quantikz}
                            \lstick{$\ket{0}$} & \octrl{1} & \qw \\
                            \lstick{$\ket{0}$} & \octrl{1} & \qw \\
                            \lstick{$\ket{0}$} & \targ{} & \qw 
                        \end{quantikz}
                        \subcaption{Toffoli}
                    \end{center}
                    \label{fig:Toffoli}
                \end{subfigure}
                \begin{subfigure}{0.28\textwidth}
                    \begin{center}
                        \begin{quantikz}
                            \lstick{$\ket{0}$} & \octrl{1} & \qw \\
                            \lstick{$\ket{0}$} & \gate{H} & \qw
                        \end{quantikz}
                        \subcaption{Kontrollert Hadamard}
                    \end{center}
                    \label{fig:Kontrollert H}
                \end{subfigure}
            \end{center}
            \label{fig:Kontrollerte porter}
        \end{figure}
        
        Som sagt tidligere er CNOT og Toffoli portene kontrollerte porter. En kontrollert port er en port som kun blir aktivert, gitt at tilstanden til en annen qubit tilfredstiller en betingelse. CNOT er kontrollert i den forstanden at man kun anvender $X$ operatoren hvis den første qubiten er i tilstanden $\ket{1}$. Toffoli porten er et eksempel på en port som er multikontrollert. Alle logiske kvanteporter kan kontrolleres av andre qubits. Se figur \ref{fig:Kontrollerte porter} for eksempler.

\subsection{Kvantealgoritmer og orakler}

        Klassiske algoritmer er metoder som løser problemer basert på input av bits, kvantealgoritmer kan dermed ses på som metoder som løser problemer basert på qubits. Bits brukes for å representere datastrukturer som tall, lister og grafer. Qubits kan brukes for å representere de samme strukturene. Kvantekretser blir dermed den naturlige måten for å representere algoritmene, en kvantealgoritme er dermed en komposisjon av unitære operatorer og målinger på en tilstand $\psi$ i $\partial D(\mathcal{H})$. 
        
        Kvanteparallellisme er en egenskap kvantealgoritmer får fra kvantemekanikken. Dette fenomenet er beskrevet som at en beregning kan inneholde informasjonen fra flere. For å se dette ser vi på en funksjon $f:nBits\rightarrow 1Bits$ og vi antar at det finnes en unitær operator $\mathcal{O}_f$ slik at $\mathcal{O}_f(\ket{z}\ket{0})=\ket{z}\ket{f(z)}$. Ved å anvende $\mathcal{O}_f$ på en tilstand som er i en superposisjon av alle baisiselementene får man følgende:
        \begin{align*}
            \mathcal{O}_f(\Sigma_{z=0}^n\ket{z}\ket{0}) = \Sigma_{z=0}^n\ket{z}\ket{f(z)}.
        \end{align*}
        Man kan se at $\mathcal{O}_f$ har kun blitt anvendt en gang, men informasjon om alle evalueringene er i den nye tilstanden. Når man måler tilstanden i standard basisen vil den kollapse til en av evalueringene, så klassisk er ikke Kvanteparallellisme noe bedre, men interferens og sammenfiltring kan gi effekter som gir bedre utslag enn med klassiske algoritmer.

        Nesten alle kvantealgoritmer bruker en slags \emph{query}. Disse kommer som oftest i form som en evaluering av en klassisk funksjon. Den unitære operatoren ovenfor er et eksempel på en slik \emph{query}. De operatorene som utfører \emph{queries} kalles for orakler eller black-boxes. En unitær operator $\mathcal{O}:\mathcal{H}\otimes\mathcal{H}'\rightarrow\mathcal{H}\otimes\mathcal{H}'$ som gjør en \emph{query} på rommet $\mathcal{H}$ og merker tilstandene i $\mathcal{H}'$ basert på utfallet kalles for et merkeorakel. Operatoren $\mathcal{O}_f$ som definert over er et eksempel på et merkeorakel. En annen klasse med orakler er faseorakler, disse er operatorer på formen $\mathcal{O}_\pm:\mathcal{H}\rightarrow\mathcal{H}$, disse gjør en \emph{query} på rommet $\mathcal{H}$ og endrer fasen basert på utfallet.

        I tilfellet med merkeorakelet $\mathcal{O}_f$, så finnes det en metode for å gjøre det om til et faseorakel $\mathcal{O}_{f,\pm}$. Bemerk først at merkeorakelet er definert som $\mathcal{O}_f(\ket{z}\ket{w})=\ket{z}\ket{w\oplus f(z)}$ på basisen. Vi kan definere $\mathcal{O}_{f,\pm}$ som følgende:
        \begin{align*}
            & \mathcal{O}_f(\ket{z}\otimes H\ket{1}) = (-1)^{f(z)}\ket{z}\otimes H\ket{1} \\
            \implies & \mathcal{O}_{f,\pm}(\ket{z}) = (-1)^{f(z)}\ket{z} 
        \end{align*}
        Figur \ref{fig:faseorakel} beskriver hvordan denne konstruksjonen ser ut som med kvantekretser.

        \begin{figure}
            \caption{Standardkonstruksjon av faseorakel}
            \begin{center}
                \begin{quantikz}
                    \lstick{$\ket{z}$} & \qw\gategroup[wires=2, steps=9, style={dashed, rounded corners, fill=Blue!5, inner xsep=2pt}, background]{$O_{f,\pm}$} & \qw & \qw & \qw & \gate[2]{O_f} & \qw & \qw & \qw & \qw & \qw \rstick{$(-1)^{f(z)}\ket{z}$}\\
                    & & \lstick{$\ket{0}$} & \gate{X} & \gate{H} & & \gate{H} & \gate{X} & \qw \rstick{$\ket{0}$} &
                \end{quantikz}
            \end{center}
            \label{fig:faseorakel}
        \end{figure}